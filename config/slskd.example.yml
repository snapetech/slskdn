# debug: false
# headless: false
# remote_configuration: false
# remote_file_management: false
# instance_name: default
# flags:
#   no_logo: false
#   no_start: false
#   no_config_watch: false
#   no_connect: false
#   no_share_scan: false
#   force_share_scan: false
#   force_migrations: false
#   no_version_check: false
#   log_sql: false
#   log_unobserved_exceptions: false
#   experimental: false
#   volatile: false
#   case_sensitive_reg_ex: false
#   legacy_windows_tcp_keepalive: false
#   optimistic_relay_file_info: false
# relay:
#   enabled: false
#   mode: controller # controller (default), agent, or debug (for local development)
#   # controller config is required when running in 'agent' mode
#   # this specifies the relay controller that will be controlling this agent
#   controller:
#     address: https://some.site.com:5000
#     ignore_certificate_errors: false
#     api_key: <a 16-255 character string corresponding to one of the controller's 'readwrite' or 'administrator' API keys>
#     secret: <a 16-255 character shared secret matching the controller's config for this agent>
#     downloads: false
#   # agent config is optional when running in 'controller' mode
#   # this specifies all of the agents capable of connecting
#   agents:
#     my_agent:
#       instance_name: my_agent # make sure the top-level instance_name of the agent matches!
#       secret: <a 16-255 character string unique to this agent>
#       cidr: 0.0.0.0/0,::/0
# permissions:
#   file:
#     mode: ~ # not for Windows, chmod syntax, e.g. 644, 777. can't escalate beyond umask
# directories:
#   incomplete: ~
#   downloads: ~
# shares:
#   directories:
#     - ~
#   filters:
#     - \.ini$
#     - Thumbs.db$
#     - \.DS_Store$
#   cache:
#     storage_mode: memory
#     workers: 16
#     retention: ~ # retain indefinitely (do not automatically re-scan)
# rooms:
#   - ~
# global:
#   upload:
#     slots: 20
#     speed_limit: 1000 # in kibibytes
#   limits:
#     queued:
#       files: 500
#       megabytes: 5000
#     daily:
#       files: 1000
#       megabytes: 10000
#       failures: 200
#     weekly:
#       files: 5000
#       megabytes: 50000
#       failures: 1000
#   download:
#     slots: 500
#     speed_limit: 1000
# groups:
#   default:
#     upload:
#       priority: 500
#       strategy: roundrobin
#       slots: 10
#     limits:
#       queued:
#         files: 150
#         megabytes: 1500
#       daily: ~ # no daily limits (weekly still apply)
#       weekly:
#         files: 1500
#         megabytes: 15000
#         failures: 150
#   leechers:
#     thresholds:
#       files: 1
#       directories: 1
#     upload:
#       priority: 999
#       strategy: roundrobin
#       slots: 1
#       speed_limit: 100
#     limits:
#       queued:
#         files: 15
#         megabytes: 150
#       daily:
#         files: 30
#         megabytes: 300
#         failures: 10
#       weekly:
#         files: 150
#         megabytes: 1500
#         failures: 30
#   blacklisted:
#     members:
#       - <username to blacklist>
#     cidrs:
#       - <CIDR to blacklist, e.g. 255.255.255.255/32>
#   user_defined:
#     my_buddies:
#       upload:
#         priority: 250
#         strategy: firstinfirstout
#         slots: 10
#       limits:
#         queued:
#           files: 1000 # override global default
#       members:
#         - alice
#         - bob
# blacklist:
#   enabled: true
#   file: <path to file containing CIDRs to blacklist>
# filters:
#   search:
#     request:
#       - ^.{1,2}$
# web:
#   port: 5030
#   socket: ~
#   https:
#     disabled: false
#     port: 5031
#     force: false
#     certificate:
#       pfx: ~
#       password: ~
#   url_base: /
#   content_path: wwwroot
#   enforce_security: false   # PR-01: when true, strict auth/CORS/startup checks; ModelState 400 when invalid
#   allow_remote_no_auth: false  # when no-auth, allow non-loopback only if true
#   max_request_body_size: 10485760  # PR-09: Kestrel Limits.MaxRequestBodySize in bytes; default 10 MB
#   logging: false
#   authentication:
#     disabled: false
#     username: slskd
#     password: slskd
#     passthrough:              # PR-03: when no-auth, AllowedCidrs can allow non-loopback in addition to loopback
#       allowed_cidrs: ~        # optional; e.g. 127.0.0.1/32,::1/128
#     jwt:
#       key: ~
#       ttl: 604800000
#     api_keys:
#       my_api_key:
#         key: <some example string between 16 and 255 characters>
#         role: readonly # readonly, readwrite, administrator
#         cidr: 0.0.0.0/0,::/0
#   cors:
#     enabled: false
#     allowed_origins: []       # e.g. [https://app.example.com] when enabled; required when enabled
#     allow_credentials: false
#     allowed_headers: []       # empty = any
#     allowed_methods: []       # empty = any
#   rate_limiting:              # PR-09: HTTP rate limits (api, federation inbox, mesh gateway). Per-IP.
#     enabled: true
#     api_permit_limit: 200
#     api_window_seconds: 60
#     federation_permit_limit: 30
#     federation_window_seconds: 60
#     mesh_gateway_permit_limit: 60
#     mesh_gateway_window_seconds: 60
# retention:
#   search: 10080 # 7 days, in minutes
#   transfers:
#     upload:
#       succeeded: 1440 # 1 day, in minutes
#       errored: 30
#       cancelled: 5
#     download:
#       succeeded: 1440 # 1 day, in minutes
#       errored: 20160 # 2 weeks, in minutes
#       cancelled: 5
#   files:
#     complete: 20160 # 2 weeks, in minutes
#     incomplete: 43200 # 30 days, in minutes
#   logs: 180 # days
# logger:
#   disk: false
#   no_color: false
#   loki: ~
# diagnostics:
#   allow_memory_dump: false   # when false, /api/v0/application/dump returns 404
#   allow_remote_dump: false   # when false, dump allowed only from loopback (127.0.0.1, ::1)
# metrics:
#   enabled: false
#   url: /metrics
#   authentication:
#     disabled: false
#     username: slskd
#     password: slskd
# PodCore.Security (MessageSigner). PR-12. Binds to PodCore:Security.
# PodCore.Join (6.4). Binds to PodCore:Join. When SignatureMode Enforce: PodJoinRequest requires Nonce and replay is rejected.
# PodCore:
#   Security:
#     SignatureMode: Off   # Off | Warn | Enforce
#   Join:
#     SignatureMode: Off   # Enforce: require Nonce on join, reject replay
# feature:
#   swagger: true              # Enable Swagger API documentation UI (default: true)
#   CollectionsSharing: false  # Enable Collections, ShareGroups, ShareGrants APIs
#   Streaming: true            # Enable streaming API (/api/v0/streams/{contentId}) (default: true)
#   StreamingRelayFallback: true  # Enable relay streaming fallback (controller proxies to agent) (default: true)
#   MeshParallelSearch: true  # Run mesh overlay search in parallel with Soulseek and merge results (default: true)
#   MeshPublishAvailability: true  # Publish availability to mesh/DHT (default: true)
#   IdentityFriends: false     # Enable Identity & Friends (profiles, contacts, invites)
# security:
#   enabled: true  # Enable security features (path traversal protection is ALWAYS enabled)
#   profile: Standard  # Security profile: Minimal, Standard, Maximum, or Custom
#   network_guard:
#     enabled: true
#     max_connections_per_ip: 10
#     max_global_connections: 100
#     max_messages_per_minute: 60
#     max_message_size: 10485760  # 10 MB
#   violation_tracker:
#     enabled: true
#     violations_before_auto_ban: 5
#     base_ban_duration_minutes: 60
#   path_guard:
#     enabled: true  # Path traversal protection (ALWAYS enabled, even if security.enabled is false)
#     max_path_length: 512
#     max_path_depth: 20
#   content_safety:
#     enabled: true
#     verify_magic_bytes: true
#     quarantine_suspicious: true
#     quarantine_directory: ~
#     block_executables: true
#   peer_reputation:
#     enabled: true
#     trusted_threshold: 70
#     untrusted_threshold: 20
#   adversarial:  # Security:Adversarial (privacy, padding, anonymity, etc.)
#     privacy:
#       padding:
#         max_unpadded_bytes: 0  # 0=default 1MB. PR-11 DoS limit for Unpad.
#         max_padded_bytes: 0    # 0=default 2MB. PR-11 DoS limit for Unpad.
#     anonymity:   # I2P, RelayOnly, Tor. AnonymityLayerOptions.
#       relay_only:
#         relay_peer_data_endpoints: []  # ["host:port"] per relay's QUIC data overlay; used when TrustedRelayPeers not resolved. Required for RelayOnly until peer-id resolution.
#         # trusted_relay_peers: []
#         # max_chain_length: 3
# soulseek:
#   address: vps.slsknet.org
#   port: 2271
#   username: ~
#   password: ~
#   description: |
#     A slskd user. https://github.com/slskd/slskd
#   picture: path/to/slsk-profile-picture.jpg
#   listen_ip_address: 0.0.0.0
#   listen_port: 50300
#   diagnostic_level: Info
#   distributed_network:
#     disabled: false
#     disable_children: false
#     child_limit: 25
#     logging: false
#   connection:
#     timeout:
#       connect: 10000
#       inactivity: 15000
#       transfer: 30000
#     buffer:
#       read: 16384
#       write: 16384
#       transfer: 262144
#       write_queue: 250
#     proxy:
#       enabled: false
#       address: ~
#       port: ~
#       username: ~
#       password: ~
# integration:
#   webhooks:
#     my_webhook:
#       on:
#         - DownloadFileComplete
#       call:
#         url: https://192.168.1.42:8080/slskd_webhook
#         headers:
#           - name: X-API-Key
#             value: foobar1234
#           - name: Authorization
#             value: Bearer eyJ...ssw5c
#           - name: User-Agent
#             value: slskd/0.0
#         ignore_certificate_errors: false
#       timeout: 5000 # in milliseconds
#       retry:
#         attempts: 3
#   scripts:
#     run_command_with_linux_system_shell: # automatically uses the executable defined in $SHELL
#       on:
#         - DownloadFileComplete
#       run:
#         command: 'echo "$SLSKD_SCRIPT_DATA" >> linux_system_shell.txt'
#     run_with_sh:
#       on:
#         - DownloadFileComplete
#       run:
#         executable: /bin/sh
#         args: '-c "echo $SLSKD_SCRIPT_DATA >> linux_sh.txt"'
#     run_with_sh_and_args_list:
#       on:
#         - DownloadFileComplete
#       run:
#         executable: /bin/sh
#         arglist:
#           - -c
#           - echo $SLSKD_SCRIPT_DATA >> linux_sh_and_args_list.txt
#     run_command_with_windows_system_shell: # automatically uses cmd.exe (included with all Windows installs)
#       on:
#         - DownloadFileComplete
#       run:
#         command: 'echo "%SLSKD_SCRIPT_DATA%" >> windows_system_shell.txt'
#     run_with_windows_cmd:
#       on:
#         - DownloadFileComplete
#       run:
#         executable: cmd.exe
#         args: '/c "echo "%SLSKD_SCRIPT_DATA%" >> windows_cmd.txt"'
#     run_with_windows_git_bash:
#       on:
#         - DownloadFileComplete
#       run:
#         executable: C:\Program Files\Git\bin\bash.exe
#         args: '-c "echo "$SLSKD_SCRIPT_DATA" >> windows_git_bash.txt"'
#     run_with_windows_cmd_and_args_list:
#       on:
#         - DownloadFileComplete
#       run:
#         executable: cmd.exe
#         arglist:
#           - /c
#           - 'echo "%SLSKD_SCRIPT_DATA%" >> windows_cmd_and_args_list.txt'
#   ftp:
#     enabled: false
#     address: ~
#     port: ~
#     username: ~
#     password: ~
#     remote_path: /
#     encryption_mode: auto
#     ignore_certificate_errors: false
#     overwrite_existing: true
#     connection_timeout: 5000
#     retry_attempts: 3
#   pushbullet:
#     enabled: false
#     access_token: ~
#     notification_prefix: "From slskd:"
#     notify_on_private_message: true
#     notify_on_room_mention: true
#     retry_attempts: 3
#     cooldown_time: 900000
# Mesh.Security (PR-01, ยง8). Binds to Mesh:Security when Mesh section is used.
# mesh:
#   security:
#     enforceRemotePayloadLimits: true   # when true, enforce max size and safe deserialization on overlay/transport
#     maxRemotePayloadSize: 1048576      # 1 MiB; max for remote JSON/MessagePack payloads
#
# Mesh:SyncSecurity (T-1432, T-1433, T-1434, T-1435). Rate limiting, quarantine, proof-of-possession, consensus, alert thresholds.
#   sync_security:
#     max_invalid_entries_per_window: 50    # T-1432: entries before rate limit. Default 50.
#     max_invalid_messages_per_window: 10   # T-1432: messages before rate limit. Default 10.
#     rate_limit_window_minutes: 5          # T-1432/1433: window for rate limit and quarantine. Default 5.
#     quarantine_violation_threshold: 3     # T-1433: violations in window to quarantine. Default 3.
#     quarantine_duration_minutes: 30       # T-1433: quarantine length. Default 30.
#     proof_of_possession_enabled: false    # T-1434: require PoP before accepting new hashes. Default false.
#     consensus_min_peers: 5                # T-1435: min peers to query for hash consensus. Default 5.
#     consensus_min_agreements: 3           # T-1435: min agreeing peers to accept hash. Default 3.
#     alert_threshold_signature_failures: 50   # Alert when exceeded. 0=disabled. Default 50.
#     alert_threshold_rate_limit_violations: 20 # Alert when exceeded. 0=disabled. Default 20.
#     alert_threshold_quarantine_events: 10    # Alert when exceeded. 0=disabled. Default 10.